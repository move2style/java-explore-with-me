CREATE TABLE IF NOT EXISTS hits (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    app VARCHAR(255) NOT NULL,
    uri VARCHAR(2048) NOT NULL,
    ip VARCHAR(45) NOT NULL,
    timestamp TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    CONSTRAINT pk_hit PRIMARY KEY (id)
);

CREATE INDEX IF NOT EXISTS idx_hit_timestamp ON hits(timestamp);
CREATE INDEX IF NOT EXISTS idx_hit_uri ON hits(uri);
CREATE INDEX IF NOT EXISTS idx_hit_app ON hits(app);